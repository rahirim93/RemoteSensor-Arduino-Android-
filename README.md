# RemoteSensor-Arduino-Android-

Задачи:
- [ ] Добавить сохранение данных в локальную БД телефона
    - [ ] Попроббовать сравнение размера файла на телефоне и в ардуино
- [ ] Есть баг при нажатии кнопки соединение, когда соединение установлено
- [ ] Тест с телефона
- [ ] После настройки времени на ардуино сделать вывод настроенного времения для контроля настройки
- [ ] Есть проблема на двух сторонах (ардуино и телефон). Если во время передачи данных отключить связь, то поток зависает на ветви полечения данных. Нужно придумать прерывание этого поток. Со стороны: нужно посмотреть что происходит с ардуино если нет файла выбранной даты. И опять же в этом случае ардуино ничего не передает, а ветвь получения данных зацикливается так как ждет для окончания слова "DONE". Как вариант решения данной проблемы, можно при отсутсвии файла отправлять с ардуино слово "DONE". Либо настроить в цикли получения даных таймаут после которого цикл будет выходить так как ничего не приходит
- [ ] Нашел способ убить поток. До текущего момента поток крутился в методе ран в цикле while(true). Это был бесконечный неубиваемый поток. У класса Thread есть метод interrupt, который устанавливает в поле потока isInterrupter значе true после вызова interrupt. По идее можно было заменить в цикле значение true на значение isInterrupted и когда Interrupt вызван ничего не делать как как  while(intterupt != true). Возниказ вопрос в чем тогда отличие isInterruted от моей переменной. Но если сделать именно так и понаблюдать за потоком, то когда значение isInterrupted принимает значение false, то поток умирает (можно отследить в App profiler). Возможно если пользоваться своей переменной вместе isInterrupted, то эффект будет такой же (проверить), так как условие не выполняется и метод run приходит к завершению
- [ ] Разделить поиск устройства и подсоединение. Поиск будет осуществляться отдельно, найденное устройство будет запоминаться и в дальшейшем нового поиска уже не будет. Приложение будет пробовать подсоединяться к ардуино уже без поиска
- [ ] Сделать диагностирование ардуино. При запуске приложения должно быть понятно, что ардуино исправен
- [ ] Решить проблему с периодическим зависанием ардуино.
- [ ] Сделать функцию управления SD ардуино с телефона. Вывод списка файлов на телефон и т.п.
- [ ] Подумать о записи ТМИ в удаленную базу данных Firebase (когда будет wi-fi модуль)
- [ ] Отцепить от кода ардуино, для освобождения места, управление ардуино с монитора порта. Сделать так чтобы при работе с компьютером ее можно было быстро включить, а при работе автономно она была выключена.



Выполненные задачи:
- [x] На ардуино реализована запись ТМИ. Для каждых суток создается отдельный файл.
- [x] Реализована функция получения и вывод в график ТМИ за текущий день.
- [x] Реализовано управление ардуино через монитор порта (дописать сюда список функций)
- [x] Реализована функция настройки времени на арудино с телефона
- [x] Реализована возможность подгрузки ТМИ определенной даты
